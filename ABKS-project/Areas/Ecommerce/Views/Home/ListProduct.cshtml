@model IEnumerable<ABKS_project.Areas.Ecommerce.Models.Product>

<style>
    .btn-get-started {
        padding: 10px 20px;
        margin-top: 20px;
        font-size: 16px;
        font-weight: bold;
        color: #fff;
        background: linear-gradient(45deg, #ff416c, #ff4b2b);
        border: none;
        border-radius: 30px;
        box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
        cursor: pointer;
        text-align: center;
    }

        .btn-get-started:hover {
            background: linear-gradient(45deg, #ff4b2b, #ff416c);
            box-shadow: 0 15px 20px rgba(0, 0, 0, 0.2);
            transform: translateY(-2px);
        }

        .btn-get-started:active {
            transform: translateY(1px);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
        }

    .img-thumbnail {
        width: 50px;
        height: 50px;
        object-fit: cover;
    }

    .list-group-item {
        display: flex;
        align-items: center;
    }

        .list-group-item img {
            margin-right: 15px;
        }
</style>

<!-- ======= Product Section ======= -->
<section id="portfolio" class="portfolio sections-bg">
    <div class="container" data-aos="fade-up">

        <div class="section-header">
            <h2>Our Products</h2>
            <p>
                Gear up with our high-quality gear, stylish clothes, and essential accessories for any adventure. From durable backpacks to versatile activewear,
                we've got what you need to conquer the outdoors in comfort and style. Shop now and gear up confidently for your next journey.
        </div>

        <div class="portfolio-isotope" data-portfolio-filter="*" data-portfolio-layout="masonry" data-portfolio-sort="original-order" data-aos="fade-up" data-aos-delay="100">

            <div>
                <ul class="portfolio-flters">
                    <li data-filter="*" class="filter-active">All</li>
                    <li data-filter=".filter-app">Equipments</li>
                    <li data-filter=".filter-product">Clothes</li>
                    <li data-filter=".filter-branding">Others</li>

                </ul>
            </div>

            <div class="row gy-4 portfolio-container">

                @foreach (var item in Model)
                {
                    <div class="col-xl-4 col-md-6 portfolio-item filter-app">
                        <div class="portfolio-wrap">
                            <a href="~/Images/Products/@item.ProductImg" data-gallery="portfolio-gallery-app" class="glightbox">
                                <img src="~/Images/Products/@item.ProductImg" class="img-fluid" alt="@item.ProductName">
                            </a>
                            <div class="portfolio-info">
                                <h4><a href="portfolio-details.html" title="More Details">@item.ProductName</a></h4>
                                <p>@item.ProductDescription</p>
                                <span class="me-3">Rs. @item.ProductPrice</span>
                                <button class="btn-get-started" onclick="addItemToCart(@item.ProductId)" data-id="@item.ProductId" data-name="@item.ProductName" data-image="~/Images/Products/@item.ProductImg" data-price="@item.ProductPrice">Add to Cart</button>
                            </div>
                        </div>
                    </div>
                }
            </div>

        </div>

    </div>
</section>

@section Scripts {
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        function addItemToCart(productId) {
            $.ajax({
                url: `/Ecommerce/Home/AddItem`,
                type: 'GET',
                data: { productId: productId },
                success: function (result) {
                    var cartCountEl = document.getElementById("cartCount");
                    if (cartCountEl) {
                        cartCountEl.innerHTML = result;
                    } else {
                        console.log("Cart count element not found.");
                    }
                },
                error: function (err) {
                    console.log("Error:", err);
                }
            });
        }
    </script>
}
